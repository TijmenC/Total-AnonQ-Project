{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tijme\\\\Documents\\\\Semester 3\\\\anonq-react\\\\src\\\\Pages\\\\HomePage.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Question from '../components/Question';\nimport HomeButtons from '../components/HomeButtons';\nimport QuestionService from \"../Services/QuestionService\";\nimport Comment from \"../components/Comment\";\nimport CreateComment from \"../components/CreateComment\";\n\nfunction HomePage() {\n  const [enable, setEnable] = useState();\n  const [fullQuestion, setFullQuestion] = useState({\n    question: {\n      title: '',\n      description: '',\n      tag: '',\n      commentsenabled: ''\n    },\n    poll: [{\n      poll: ''\n    }]\n  });\n  const [id, setID] = useState(2);\n\n  const handleChange = () => {\n    QuestionService.GetRandomQuestionId().then(res => {\n      var randomnum = res.data;\n      setID(randomnum);\n    });\n  };\n  /*Get Questions and polls and comments */\n\n\n  useEffect(() => {\n    GetQuestionsAndPolls();\n    GetComments();\n  }, [id]);\n  useEffect(() => {\n    setEnable(fullQuestion.question.commentsEnabled);\n  }, [fullQuestion.question]);\n  const GetQuestionsAndPolls = useCallback(async () => {\n    await QuestionService.GetQuestionAndPolls(id).then(res => {\n      setFullQuestion(prevState => ({ ...prevState,\n        question: res.data.question\n      }));\n      setFullQuestion(prevState => ({ ...prevState,\n        poll: res.data.poll\n      }));\n    });\n  });\n  const GetComments = useCallback(async () => {\n    await QuestionService.PostQuestion(fullQuestion).then(res => {\n      console.log(res);\n      console.log(res.data);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Question, {\n    question: fullQuestion.question,\n    polls: fullQuestion.poll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(HomeButtons, {\n    randomid: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), enable ? /*#__PURE__*/React.createElement(Comment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 24\n    }\n  }) : null, /*#__PURE__*/React.createElement(CreateComment, {\n    sentquestionid: fullQuestion.question.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/tijme/Documents/Semester 3/anonq-react/src/Pages/HomePage.js"],"names":["React","useState","useEffect","useCallback","Question","HomeButtons","QuestionService","Comment","CreateComment","HomePage","enable","setEnable","fullQuestion","setFullQuestion","question","title","description","tag","commentsenabled","poll","id","setID","handleChange","GetRandomQuestionId","then","res","randomnum","data","GetQuestionsAndPolls","GetComments","commentsEnabled","GetQuestionAndPolls","prevState","PostQuestion","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Question from '../components/Question'\r\nimport HomeButtons from '../components/HomeButtons'\r\nimport QuestionService from \"../Services/QuestionService\"\r\nimport Comment from \"../components/Comment\"\r\nimport CreateComment from \"../components/CreateComment\";\r\n\r\nfunction HomePage() {\r\n    const [enable, setEnable] = useState();\r\n    const [fullQuestion, setFullQuestion] = useState(\r\n        {\r\n            question: { title: '', description: '', tag: '', commentsenabled: '' },\r\n            poll: [{ poll: '' }]\r\n        }\r\n    );\r\n\r\n    const [id, setID] = useState(2);\r\n\r\n    const handleChange = () => {\r\n        QuestionService.GetRandomQuestionId().then((res) => {\r\n            var randomnum = res.data;\r\n            setID(randomnum)\r\n        });\r\n    };\r\n\r\n    /*Get Questions and polls and comments */\r\n    useEffect(() => {\r\n        GetQuestionsAndPolls()\r\n        GetComments();\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        setEnable(fullQuestion.question.commentsEnabled)\r\n    },\r\n        [fullQuestion.question]);\r\n\r\n        const GetQuestionsAndPolls = useCallback(async () => {\r\n        await QuestionService.GetQuestionAndPolls(id).then((res) => {\r\n            setFullQuestion((prevState) => ({ ...prevState, question: res.data.question }));\r\n            setFullQuestion((prevState) => ({ ...prevState, poll: res.data.poll }));\r\n        });\r\n    })\r\n    const GetComments = useCallback(async () => {\r\n        await QuestionService.PostQuestion(fullQuestion).then((res) => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n        })\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            <Question question={fullQuestion.question} polls={fullQuestion.poll} />\r\n            <HomeButtons randomid={handleChange} />\r\n            { enable ? <Comment /> : null}\r\n            <CreateComment sentquestionid={fullQuestion.question.id} />\r\n        </div>\r\n    );\r\n}\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}