{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tijme\\\\Documents\\\\Semester 3\\\\anonq-react\\\\src\\\\pages\\\\HomePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport Question from '../components/Question';\nimport HomeButtons from '../components/HomeButtons';\nimport QuestionService from \"../services/QuestionService\";\nimport CommentService from \"../services/CommentService\";\nimport Comment from \"../components/Comment\";\nimport { Row, Col } from 'react-bootstrap';\nimport CreateComment from \"../components/CreateComment\";\nimport { useLocation } from 'react-router-dom';\n\nfunction HomePage(props) {\n  const [enable, setEnable] = useState();\n  const location = useLocation();\n  const [fullQuestion, setFullQuestion] = useState({\n    question: {\n      title: '',\n      description: '',\n      tag: '',\n      commentsenabled: ''\n    },\n    poll: [{\n      poll: ''\n    }]\n  });\n  const [comments, setComments] = useState([]);\n  const [id, setID] = useState(2);\n\n  const handleChange = () => {\n    QuestionService.GetRandomQuestionId().then(res => {\n      var randomnum = res.data;\n      setID(randomnum);\n    });\n  };\n\n  useEffect(() => {\n    GetQuestionData(id);\n  }, [id]);\n  useEffect(() => {\n    if (location.props.id == null) {\n      GetQuestionData(location.props.id);\n    }\n  }, [location.props]);\n\n  const GetQuestionData = id => {\n    QuestionService.GetQuestionAndPolls(id).then(res => {\n      setFullQuestion(prevState => ({ ...prevState,\n        question: res.data.question\n      }));\n      setFullQuestion(prevState => ({ ...prevState,\n        poll: res.data.poll\n      }));\n    });\n    CommentService.GetComment(id).then(res => {\n      setComments(res.data);\n    });\n  };\n\n  useEffect(() => {\n    setEnable(fullQuestion.question.commentsEnabled);\n  }, [fullQuestion.question]);\n\n  const ShowComments = () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FormStyling2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-left \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 20\n    }\n  }, \"Comments\"))), /*#__PURE__*/React.createElement(Col, {\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }))), comments.map(comments => /*#__PURE__*/React.createElement(Comment, {\n    key: comments.id,\n    sentcomments: comments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(CreateComment, {\n    sentquestionid: fullQuestion.question.id,\n    sentgetquestions: GetQuestionData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex rounded container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Question, {\n    question: fullQuestion.question,\n    polls: fullQuestion.poll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(HomeButtons, {\n    randomid: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), enable ? /*#__PURE__*/React.createElement(ShowComments, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }) : null);\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/tijme/Documents/Semester 3/anonq-react/src/pages/HomePage.js"],"names":["React","useState","useEffect","Question","HomeButtons","QuestionService","CommentService","Comment","Row","Col","CreateComment","useLocation","HomePage","props","enable","setEnable","location","fullQuestion","setFullQuestion","question","title","description","tag","commentsenabled","poll","comments","setComments","id","setID","handleChange","GetRandomQuestionId","then","res","randomnum","data","GetQuestionData","GetQuestionAndPolls","prevState","GetComment","commentsEnabled","ShowComments","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,yDAAP;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,iBAAzB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,QAAQ,EAApC;AACA,QAAMe,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM,CAACM,YAAD,EAAeC,eAAf,IAAkCjB,QAAQ,CAC5C;AACIkB,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,WAAW,EAAE,EAA1B;AAA8BC,MAAAA,GAAG,EAAE,EAAnC;AAAuCC,MAAAA,eAAe,EAAE;AAAxD,KADd;AAEIC,IAAAA,IAAI,EAAE,CAAC;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAAD;AAFV,GAD4C,CAAhD;AAMA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BzB,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM,CAAC0B,EAAD,EAAKC,KAAL,IAAc3B,QAAQ,CAAC,CAAD,CAA5B;;AAEA,QAAM4B,YAAY,GAAG,MAAM;AACvBxB,IAAAA,eAAe,CAACyB,mBAAhB,GAAsCC,IAAtC,CAA4CC,GAAD,IAAS;AAChD,UAAIC,SAAS,GAAGD,GAAG,CAACE,IAApB;AACAN,MAAAA,KAAK,CAACK,SAAD,CAAL;AACH,KAHD;AAIH,GALD;;AAOA/B,EAAAA,SAAS,CAAC,MAAM;AACZiC,IAAAA,eAAe,CAACR,EAAD,CAAf;AACH,GAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;AAIAzB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,QAAQ,CAACH,KAAT,CAAec,EAAf,IAAqB,IAAzB,EACA;AACAQ,MAAAA,eAAe,CAACnB,QAAQ,CAACH,KAAT,CAAec,EAAhB,CAAf;AACC;AACJ,GALQ,EAKN,CAACX,QAAQ,CAACH,KAAV,CALM,CAAT;;AAOA,QAAMsB,eAAe,GAAIR,EAAD,IAAQ;AAC5BtB,IAAAA,eAAe,CAAC+B,mBAAhB,CAAoCT,EAApC,EAAwCI,IAAxC,CAA8CC,GAAD,IAAS;AAClDd,MAAAA,eAAe,CAAEmB,SAAD,KAAgB,EAAE,GAAGA,SAAL;AAAgBlB,QAAAA,QAAQ,EAAEa,GAAG,CAACE,IAAJ,CAASf;AAAnC,OAAhB,CAAD,CAAf;AACAD,MAAAA,eAAe,CAAEmB,SAAD,KAAgB,EAAE,GAAGA,SAAL;AAAgBb,QAAAA,IAAI,EAAEQ,GAAG,CAACE,IAAJ,CAASV;AAA/B,OAAhB,CAAD,CAAf;AACH,KAHD;AAIAlB,IAAAA,cAAc,CAACgC,UAAf,CAA0BX,EAA1B,EAA8BI,IAA9B,CAAoCC,GAAD,IAAS;AACxCN,MAAAA,WAAW,CAACM,GAAG,CAACE,IAAL,CAAX;AACH,KAFD;AAGH,GARD;;AASAhC,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,SAAS,CAACE,YAAY,CAACE,QAAb,CAAsBoB,eAAvB,CAAT;AACH,GAFQ,EAGL,CAACtB,YAAY,CAACE,QAAd,CAHK,CAAT;;AAKA,QAAMqB,YAAY,GAAG,mBACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAH,CADA,CADJ,eAII,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAJJ,CADA,EASCf,QAAQ,CAACgB,GAAT,CAAchB,QAAD,iBACV,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAEA,QAAQ,CAACE,EAAvB;AAA2B,IAAA,YAAY,EAAEF,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CATD,eAYA,oBAAC,aAAD;AAAe,IAAA,cAAc,EAAER,YAAY,CAACE,QAAb,CAAsBQ,EAArD;AAAyD,IAAA,gBAAgB,EAAEQ,eAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZA,CADJ,CADJ;;AAoBA,sBACI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAElB,YAAY,CAACE,QAAjC;AAA2C,IAAA,KAAK,EAAEF,YAAY,CAACO,IAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADJ,eAII,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEK,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKOf,MAAM,gBAAG,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAqB,IALlC,CADJ;AASH;;AACD,eAAeF,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css'\r\nimport Question from '../components/Question'\r\nimport HomeButtons from '../components/HomeButtons'\r\nimport QuestionService from \"../services/QuestionService\"\r\nimport CommentService from \"../services/CommentService\"\r\nimport Comment from \"../components/Comment\"\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport CreateComment from \"../components/CreateComment\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction HomePage(props) {\r\n    const [enable, setEnable] = useState();\r\n    const location = useLocation();\r\n    const [fullQuestion, setFullQuestion] = useState(\r\n        {\r\n            question: { title: '', description: '', tag: '', commentsenabled: '' },\r\n            poll: [{ poll: '' }]\r\n        }\r\n    );\r\n    const [comments, setComments] = useState([]);\r\n\r\n    const [id, setID] = useState(2);\r\n\r\n    const handleChange = () => {\r\n        QuestionService.GetRandomQuestionId().then((res) => {\r\n            var randomnum = res.data;\r\n            setID(randomnum)\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        GetQuestionData(id)\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        if (location.props.id == null)\r\n        {\r\n        GetQuestionData(location.props.id)\r\n        }\r\n    }, [location.props]);\r\n\r\n    const GetQuestionData = (id) => {\r\n        QuestionService.GetQuestionAndPolls(id).then((res) => {\r\n            setFullQuestion((prevState) => ({ ...prevState, question: res.data.question }));\r\n            setFullQuestion((prevState) => ({ ...prevState, poll: res.data.poll }));\r\n        })\r\n        CommentService.GetComment(id).then((res) => {\r\n            setComments(res.data)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        setEnable(fullQuestion.question.commentsEnabled)\r\n    },\r\n        [fullQuestion.question]);\r\n\r\n    const ShowComments = () => (   \r\n        <div>\r\n            <div className=\"FormStyling2\">\r\n            <Row className=\"justify-content-md-left \">\r\n                <Col md=\"1\">\r\n                <b><h2>Comments</h2></b>\r\n                </Col>\r\n                <Col md=\"12\">\r\n                <hr />\r\n                </Col>\r\n            </Row>\r\n            {comments.map((comments) => (\r\n                <Comment key={comments.id} sentcomments={comments} />\r\n            ))}\r\n            <CreateComment sentquestionid={fullQuestion.question.id} sentgetquestions={GetQuestionData} />\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n    return (\r\n        <div className=\"flex rounded container\">\r\n            <div className=\"\">\r\n            <Question question={fullQuestion.question} polls={fullQuestion.poll} />\r\n            </div>\r\n            <HomeButtons randomid={handleChange} />\r\n             { enable ? <ShowComments/> : null} \r\n        </div>     \r\n    );\r\n}\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}