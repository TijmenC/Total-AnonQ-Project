{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tijme\\\\Documents\\\\Semester 3\\\\anonq-react\\\\src\\\\components\\\\QuestionForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Button, Form } from 'react-bootstrap';\nimport '../styling/QuestionForm.css';\nimport QuestionService from \"../Services/QuestionService\";\nimport { useHistory } from 'react-router-dom';\n\nfunction QuestionForm() {\n  /*Save history of Router */\n  const history = useHistory();\n  /* Checkbox setstate */\n\n  const [commentEnable, setCommentEnable] = useState(false);\n  useEffect(() => {\n    setFullQuestion(prevState => ({ ...prevState,\n      question: { ...prevState.question,\n        commentsenabled: commentEnable\n      }\n    }));\n  }, [commentEnable]);\n  /* Question setState */\n\n  const [fullQuestion, setFullQuestion] = useState({\n    question: {\n      title: '',\n      description: '',\n      tag: '',\n      commentsenabled: ''\n    },\n    poll: [{\n      poll: ''\n    }]\n  });\n\n  const handleChange = event => {\n    const eventname = event.target.name;\n    const eventvalue = event.target.value;\n    setFullQuestion(prevState => ({ ...prevState,\n      question: { ...prevState.question,\n        [eventname]: eventvalue\n      }\n    }));\n  };\n  /* Poll setstate */\n\n\n  const [poll, setPoll] = useState([{\n    poll: ''\n  }]);\n\n  const addPoll = () => {\n    setPoll([...poll, {\n      poll: ''\n    }]); // setFullQuestion((oldArray) => ({...oldArray, poll: [{poll:''}] }));\n  };\n\n  const handlePollChange = e => {\n    const updatedPolls = [...poll];\n    updatedPolls[e.target.dataset.idx][\"poll\"] = e.target.value;\n    setPoll(updatedPolls);\n  };\n  /* Post Question + Poll */\n\n\n  const handleSubmit = async e => {\n    setFullQuestion(prevState => ({ ...prevState,\n      poll: poll\n    }));\n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    async function PostQuestion() {\n      await QuestionService.PostQuestion(fullQuestion).then(res => {\n        console.log(res);\n        console.log(res.data);\n      });\n      let path = `/`;\n      history.push(path);\n    }\n\n    PostQuestion(); //Because I use fullQuestion to set the state outside the useEffect()\n    // eslint-disable-next-line \n  }, [fullQuestion.poll]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FormStyling\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"Post A Question\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 45\n    }\n  }, \"Title\")), /*#__PURE__*/React.createElement(Form.Control, {\n    placeholder: \"Enter Title\",\n    name: \"title\",\n    value: fullQuestion.question.title,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"exampleForm.ControlTextarea1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 45\n    }\n  }, \"Description\")), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    placeholder: \"Enter Description\",\n    name: \"description\",\n    value: fullQuestion.question.description,\n    onChange: handleChange,\n    as: \"textarea\",\n    rows: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 41\n    }\n  }, \"Tag\")), document.getElementById(\"myDropdown\").selectedIndex = -1, /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    as: \"select\",\n    id: \"myDropdown\",\n    name: \"tag\",\n    value: fullQuestion.question.tag,\n    defaultValue: \"help\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, \"Personal\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Relationship\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, \"Abuse\")))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    key: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 41\n    }\n  }, \"Comments\")), /*#__PURE__*/React.createElement(Form.Check, {\n    type: \"checkbox\",\n    id: \"EnableComments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check.Input, {\n    type: \"checkbox\",\n    value: commentEnable,\n    onChange: () => setCommentEnable(!commentEnable),\n    isValid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }), \"Enable\"))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: addPoll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, \"Create new poll\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 36\n    }\n  }), poll.map((val, idx) => {\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      key: `poll-${idx}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 49\n      }\n    }, `Poll #${idx + 1}`), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      \"data-idx\": idx,\n      className: \"poll\",\n      value: poll[idx].poll,\n      onChange: handlePollChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 49\n      }\n    })));\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, \"Post\"))))));\n}\n\nexport default QuestionForm;","map":{"version":3,"sources":["C:/Users/tijme/Documents/Semester 3/anonq-react/src/components/QuestionForm.js"],"names":["React","useState","useEffect","Row","Col","Button","Form","QuestionService","useHistory","QuestionForm","history","commentEnable","setCommentEnable","setFullQuestion","prevState","question","commentsenabled","fullQuestion","title","description","tag","poll","handleChange","event","eventname","target","name","eventvalue","value","setPoll","addPoll","handlePollChange","e","updatedPolls","dataset","idx","handleSubmit","preventDefault","PostQuestion","then","res","console","log","data","path","push","document","getElementById","selectedIndex","map","val"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Button, Form } from 'react-bootstrap';\r\nimport '../styling/QuestionForm.css';\r\nimport QuestionService from \"../Services/QuestionService\"\r\nimport { useHistory } from 'react-router-dom';\r\n   \r\n\r\n\r\n\r\nfunction QuestionForm() {\r\n    /*Save history of Router */\r\n    const history = useHistory()\r\n\r\n    /* Checkbox setstate */\r\n    const [commentEnable, setCommentEnable] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setFullQuestion((prevState) => ({ ...prevState, question: { ...prevState.question, commentsenabled: commentEnable } }));\r\n    }, [commentEnable]);\r\n    /* Question setState */\r\n    const [fullQuestion, setFullQuestion] = useState(\r\n        {\r\n            question: { title: '', description: '', tag: '', commentsenabled: '' },\r\n            poll: [{ poll: '' }]\r\n        }\r\n    );\r\n    const handleChange = (event) => {\r\n        const eventname = event.target.name\r\n        const eventvalue = event.target.value\r\n        setFullQuestion((prevState) => ({ ...prevState, question: { ...prevState.question, [eventname]: eventvalue } }));\r\n    };\r\n\r\n    /* Poll setstate */\r\n    const [poll, setPoll] = useState([\r\n        { poll: '' }\r\n    ]);\r\n    const addPoll = () => {\r\n        setPoll([...poll, { poll: '' }]);\r\n        // setFullQuestion((oldArray) => ({...oldArray, poll: [{poll:''}] }));\r\n    };\r\n    const handlePollChange = (e) => {\r\n        const updatedPolls = [...poll];\r\n        updatedPolls[e.target.dataset.idx][\"poll\"] = e.target.value;\r\n        setPoll(updatedPolls);\r\n    };\r\n\r\n\r\n    /* Post Question + Poll */\r\n    const handleSubmit = async (e) => {\r\n        setFullQuestion((prevState) => ({ ...prevState, poll: poll }));\r\n        e.preventDefault()\r\n    };\r\n    useEffect(() => {\r\n        async function PostQuestion(){\r\n            await QuestionService.PostQuestion(fullQuestion).then((res) => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n        })\r\n        let path = `/`; \r\n        history.push(path);\r\n    }\r\n    PostQuestion();\r\n    //Because I use fullQuestion to set the state outside the useEffect()\r\n     // eslint-disable-next-line \r\n    }, [fullQuestion.poll]);\r\n    \r\n\r\n\r\n    return (\r\n        <div className=\"FormStyling\">\r\n            <div className=\"rounded container\">\r\n                <Form onSubmit={handleSubmit} >\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <h2>Post A Question</h2>\r\n                            <br />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <Form.Group controlId=\"title\">\r\n                                <Form.Label><h4>Title</h4></Form.Label>\r\n                                <Form.Control placeholder=\"Enter Title\" name=\"title\" value={fullQuestion.question.title} onChange={handleChange} required />\r\n                            </Form.Group>\r\n                            \r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                                <Form.Label><h4>Description</h4></Form.Label>\r\n                                <Form.Control required placeholder=\"Enter Description\" name=\"description\" value={fullQuestion.question.description} onChange={handleChange} as=\"textarea\" rows=\"3\" />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <Form.Label><h4>Tag</h4></Form.Label>\r\n                            {document.getElementById(\"myDropdown\").selectedIndex = -1}\r\n                            <Form.Control required as=\"select\" id=\"myDropdown\" name=\"tag\" value={fullQuestion.question.tag} defaultValue=\"help\" onChange={handleChange}>\r\n                                <option>Personal</option>\r\n                                <option>Relationship</option>\r\n                                <option>Abuse</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\" key=\"checkbox\">\r\n                        <Col md=\"8\">\r\n                            <br />\r\n                            <Form.Label><h4>Comments</h4></Form.Label>\r\n                            <Form.Check type=\"checkbox\" id=\"EnableComments\">\r\n                                <Form.Check.Input type=\"checkbox\" value={commentEnable} onChange={() => setCommentEnable(!commentEnable)} isValid />\r\n                                 Enable\r\n                            </Form.Check>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <br />\r\n                            <Button variant=\"primary\" onClick={addPoll}>\r\n                                Create new poll\r\n                            </Button>\r\n                            <br /> <br />\r\n                            {\r\n                                poll.map((val, idx) => {\r\n                                    return (\r\n                                        <Form.Group>\r\n                                            <div key={`poll-${idx}`}>\r\n                                                <Form.Label>{`Poll #${idx + 1}`}</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    data-idx={idx}\r\n                                                    className=\"poll\"\r\n                                                    value={poll[idx].poll}\r\n                                                    onChange={handlePollChange}\r\n                                                />\r\n                                            </div>\r\n                                        </Form.Group>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"justify-content-md-center\">\r\n                        <Col md=\"8\">\r\n                            <Button variant=\"primary\" type=\"submit\">\r\n                                Post\r\n                     </Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Form >\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default QuestionForm;"]},"metadata":{},"sourceType":"module"}